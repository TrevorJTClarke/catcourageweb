/* Â© 2015 Sum37 Apps - V0.0.2 - 05/02/2015 */(function(e,t,n){function A(e,t){if(this[p]=function(e,t){return function(){return e.apply(t,[t])}},this[d]=function(){4==this[v].readyState&&this[m](this[v].responseText)},this[g]=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window[y]?new XMLHttpRequest:!1},this[b]=arguments[2]||"",this[m]=t,this.url=e,this[v]=this[g](),this[v]){var n=this[v];n.onreadystatechange=this[p](this[d],this),""!==this[b]?(n.open("POST",e,!0),n[w]("X-Requested-With",y),n[w]("Content-type","application/x-www-form-urlencoded"),n[w]("Connection","close")):n.open("GET",e,!0),n.send(this[b])}}function O(){return{_slf:null,fire:function(e,t){_slf=this;switch(e){case"Facebook":_slf.buildFacebook(t);break;case"Twitter":_slf.buildTwitter(t);break;case"Tumblr":_slf.buildTumblr(t);break;case"Email":_slf.buildEmail(t);break;default:}},fireShareWindow:function(e){window.open(e,"sharer","toolbar=0,status=0,width=580,height=325")},buildFacebook:function(e){var t="https://www.facebook.com/sharer/sharer.php?u="+e[E];_slf[S](t)},buildTwitter:function(e){function n(e){if(e[h]>=t){var n=e.slice(0,t-4)+"...";return n}return e}var t=140,r=n(e[x]),i="https://twitter.com/intent/tweet?text="+encodeURIComponent(r)+l+encodeURIComponent(e[E])+"&counturl="+encodeURIComponent(e[E]);_slf[S](i)},buildTumblr:function(e){var t="http://www.tumblr.com/share/photo?source="+encodeURIComponent(e.img)+"&caption="+encodeURI(e[x])+"&click_thru="+encodeURIComponent(e[E]);_slf[S](t)},buildEmail:function(e){var t="mailto:?subject=Catcourage App is my new favorite thing&body=I found this today, "+encodeURI(e[x])+"%0A"+encodeURIComponent(e[E])+"%0A%0A%20Let%20me%20know%20what%20you%20think!";window[T].href=t}}}function M(){return window[T][N]==="/"}function _(){return window[T][N].search("index")>-1?"ITAKo27WnL7ig":""+window[T][N][i]("/","")}function D(e){$u("#gif")[0].src=e}var r="querySelectorAll",i="replace",s="classes",o="pseudos",u=!0,a=!1,f="toUpperCase",l=" ",c="className",h="length",p="bindFunction",d="stateChange",v="request",m="callbackFunction",g="getRequest",y="XMLHttpRequest",b="postBody",w="setRequestHeader",E="link",S="fireShareWindow",x="title",T="location",N="pathname",C="body",k,L="dc6zaTOxFJmzC";(function(e,t){var n,p,d,v,m={},g,y,b=/^\s+|\s+$/g,w=!!t[r],E=function(e,t,f){n=f||[],g=t||E.context;if(w)try{return N(g[r](e)),n}catch(l){}y=g.ownerDocument||g,e=e[i](b,"");for(p={};e=e[i](/([#.:])?([^#.:]*)/,x););e=(t=p.id)&&p.tag||p[s]||p[o]||!t&&(p[s]||p[o])?L:C;if(t){if(f=t=y.getElementById(t))if(!(f=y===g))e:{f=t;do if(f===g){f=u;break e}while(f=f.parentNode);f=a}f&&e([t])}else e(g.getElementsByTagName(p.tag||"*"));return n},S=function(e){if(p.tag){var t=e.nodeName[f]();if(p.tag=="*"){if(t<"@")return a}else if(t!=p.tag)return a}if(p.id&&e.getAttribute("id")!=p.id)return a;if(d=p[s]){var n=l+e[c]+l;for(t=d[h];t--;)if(n.indexOf(l+d[t]+l)<0)return a}if(v=p[o])for(t=v[h];t--;){n=m[v[t]];if(!n||!n.call(E,e))return a}return u},x=function(e,t,n){return t?t=="#"?p.id=n:t=="."?p[s]?p[s].push(n):p[s]=[n]:t==":"&&(p[o]?p[o].push(n):p[o]=[n]):p.tag=n[f](),""},T=Array.prototype.slice,N=function(e){n=T.call(e,0)},C=function(e){for(var t=0,r;r=e[t++];)n.push(r)};try{T.call(t.documentElement.childNodes,0)}catch(k){N=C}var L=function(e){for(var t=0,r;r=e[t++];)S(r)&&n.push(r)};E[o]=m,E.context=t,e.uSelector=E,e.$u||(e.$u=E)})(this,document),function(){var e=M();if(e)$u(C)[0][c]="";else{$u(C)[0][c]="detail-visible",k=_();var t=a;A("http://api.giphy.com/v1/gifs/"+k+"?api_key="+L,function(e){var n=JSON.parse(e);D(n.data.images.original.url),t=u}),setTimeout(function(){t===a&&D("img/not_found.png")},1e4);var n={};n[x]="HA! I cant stop laughing, get this app! ",n[E]="http://catcourage.com/"+k,n.img="http://catcourage.com/icons/icon200.png";var r=$u(".share-link");r.forEach(function(e){e.addEventListener("click",function(){O().fire(e[x],n)},a)})}}()})(window,document);